<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fast Car MR - الإدارة</title>

  <link rel="icon" type="image/png" href="favicon-32.png">
  <link rel="apple-touch-icon" href="fastcar-icon-192.png">
  <link rel="manifest" href="manifest.json">

  <link rel="stylesheet" href="style.css" />
</head>
<body>

<header class="topbar">
  <div class="brand">
    <img class="brandLogo" src="fastcar-logo.png" alt="Fast Car MR">
    <div class="brandText">
      <div class="brandTitle">Fast Car MR</div>
      <div class="brandSub">لوحة الإدارة</div>
    </div>
  </div>

  <div class="topActions">
    <a class="pill" href="captain.html">واجهة الكابتن</a>
    <button id="logoutBtn" class="pill ghost" type="button">خروج</button>
  </div>
</header>

<main class="wrap">

  <!-- Login Gate -->
  <section id="lockBox" class="card lock">
    <h2>تسجيل دخول الإدارة</h2>
    <p class="muted">ادخل كلمة سر الإدارة.</p>

    <div class="field">
      <label>كلمة السر</label>
      <input id="passInput" type="password" placeholder="••••••••••">
    </div>

    <button id="loginBtn" class="btn primary" type="button">دخول</button>
    <div id="lockMsg" class="msg" style="display:none;"></div>
  </section>

  <!-- Admin App -->
  <section id="adminApp" class="card" style="display:none;">
    <div class="headRow">
      <h2>إرسال مشوار للكباتن</h2>
      <span class="badge">السعر الافتراضي: 900 أوقية قديمة</span>
    </div>

    <div class="grid">
      <div class="field">
        <label>اسم الزبون</label>
        <input id="custName" type="text" placeholder="مثال: Fatimetou">
      </div>
      <div class="field">
        <label>رقم الزبون</label>
        <input id="custPhone" type="tel" inputmode="tel" placeholder="مثال: 32504394">
      </div>
    </div>

    <div class="grid">
      <div class="field">
        <label>الانطلاق (نص)</label>
        <input id="pickupText" type="text" placeholder="مثال: دار النعيم">
      </div>
      <div class="field">
        <label>الوجهة (نص)</label>
        <input id="dropoffText" type="text" placeholder="مثال: توجنين">
      </div>
    </div>

    <div class="grid">
      <div class="field">
        <label>السعر (أوقية قديمة)</label>
        <input id="priceOld" type="number" inputmode="numeric" value="900">
      </div>
      <div class="field">
        <label>ملاحظات للكابتن</label>
        <input id="note" type="text" placeholder="مثال: اتصل قبل الوصول">
      </div>
    </div>

    <div class="btnRow">
      <button id="createTripBtn" class="btn primary" type="button">إرسال للكباتن</button>
      <button id="clearAllBtn" class="btn danger ghost" type="button">حذف كل المشاوير</button>
    </div>

    <div class="smallHint">
      * هذه نسخة محلية على نفس الجهاز (LocalStorage).
    </div>
  </section>

  <!-- Admin List -->
  <section id="adminListBox" class="card" style="display:none;">
    <div class="headRow">
      <h2>المشاوير</h2>
      <button id="refreshBtn" class="btn ghost small" type="button">تحديث</button>
    </div>

    <div class="filters">
      <button class="chip active" data-filter="all">الكل</button>
      <button class="chip" data-filter="available">متوفر</button>
      <button class="chip" data-filter="accepted">مقبول</button>
      <button class="chip" data-filter="started">بدأ</button>
      <button class="chip" data-filter="finished">انتهى</button>
      <button class="chip" data-filter="rejected">مرفوض</button>
    </div>

    <div id="emptyAdmin" class="empty">لا يوجد مشاوير بعد.</div>
    <div id="adminTrips" class="list"></div>
  </section>

</main>

<div id="toast" class="toast" style="display:none;"></div>

<script src="admin.js"></script>
</body>
</html>
